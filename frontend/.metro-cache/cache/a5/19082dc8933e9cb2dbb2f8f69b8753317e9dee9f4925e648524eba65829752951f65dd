{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":49,"index":49}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/View","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"4kYBDC6LJJXoH7P9rWDi3vkLVB0=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/StyleSheet","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"MK7+k1V+KnvCVW7Kj2k/ydtjmVU=","exportNames":["*"],"imports":1}},{"name":"expo-router","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":105},"end":{"line":3,"column":40,"index":145}}],"key":"/+ErnBisjrT6aDU+GRp5Qz/lYoY=","exportNames":["*"],"imports":1}},{"name":"../src/context/AuthContext","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":146},"end":{"line":4,"column":53,"index":199}}],"key":"YFOiIQT6E6I699spMpMTUXmic+k=","exportNames":["*"],"imports":1}},{"name":"../src/components/LoadingScreen","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":200},"end":{"line":5,"column":64,"index":264}}],"key":"hvRn6/xKdqj61ncZeFCUaBw1KU4=","exportNames":["*"],"imports":1}},{"name":"../src/utils/theme","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":6,"column":0,"index":265},"end":{"line":6,"column":43,"index":308}}],"key":"qK0DKJeSaeFiWAj5xn3qkpKNWIQ=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _jsxFileName = \"/app/frontend/app/auth-callback.tsx\";\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return AuthCallback;\n    }\n  });\n  var _react = require(_dependencyMap[0], \"react\");\n  var _reactNativeWebDistExportsView = require(_dependencyMap[1], \"react-native-web/dist/exports/View\");\n  var View = _interopDefault(_reactNativeWebDistExportsView);\n  var _reactNativeWebDistExportsStyleSheet = require(_dependencyMap[2], \"react-native-web/dist/exports/StyleSheet\");\n  var StyleSheet = _interopDefault(_reactNativeWebDistExportsStyleSheet);\n  var _expoRouter = require(_dependencyMap[3], \"expo-router\");\n  var _srcContextAuthContext = require(_dependencyMap[4], \"../src/context/AuthContext\");\n  var _srcComponentsLoadingScreen = require(_dependencyMap[5], \"../src/components/LoadingScreen\");\n  var _srcUtilsTheme = require(_dependencyMap[6], \"../src/utils/theme\");\n  var _reactJsxDevRuntime = require(_dependencyMap[7], \"react/jsx-dev-runtime\");\n  function AuthCallback() {\n    const router = (0, _expoRouter.useRouter)();\n    const {\n      login,\n      setUser\n    } = (0, _srcContextAuthContext.useAuth)();\n    const hasProcessed = (0, _react.useRef)(false);\n    (0, _react.useEffect)(() => {\n      // Use useRef to prevent double processing in StrictMode\n      if (hasProcessed.current) return;\n      hasProcessed.current = true;\n      const processAuth = async () => {\n        try {\n          // Get session_id from URL hash\n          let sessionId = null;\n          if (false) {\n            const hash = window.location.hash;\n            const params = new URLSearchParams(hash.replace('#', ''));\n            sessionId = params.get('session_id');\n          }\n          if (!sessionId) {\n            console.error('No session_id found in URL');\n            router.replace('/');\n            return;\n          }\n\n          // Exchange session_id for session_token\n          await login(sessionId);\n\n          // Clean up URL and redirect to dashboard\n          if (false) {\n            window.history.replaceState({}, document.title, window.location.pathname);\n          }\n          router.replace('/(tabs)/dashboard');\n        } catch (error) {\n          console.error('Auth callback error:', error);\n          router.replace('/');\n        }\n      };\n      processAuth();\n    }, [login, router]);\n    return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(View.default, {\n      style: styles.container,\n      children: /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(_srcComponentsLoadingScreen.LoadingScreen, {\n        message: \"Completing sign in...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 7\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 5\n    }, this);\n  }\n  const styles = StyleSheet.default.create({\n    container: {\n      flex: 1,\n      backgroundColor: _srcUtilsTheme.theme.colors.background\n    }\n  });\n});","lineCount":91,"map":[[13,2,8,15,"Object"],[13,8,8,15],[13,9,8,15,"defineProperty"],[13,23,8,15],[13,24,8,15,"exports"],[13,31,8,15],[14,4,8,15,"enumerable"],[14,14,8,15],[15,4,8,15,"get"],[15,7,8,15],[15,18,8,15,"get"],[15,19,8,15],[16,6,8,15],[16,13,8,15,"AuthCallback"],[16,25,8,15],[17,4,8,15],[18,2,8,15],[19,2,1,0],[19,6,1,0,"_react"],[19,12,1,0],[19,15,1,0,"require"],[19,22,1,0],[19,23,1,0,"_dependencyMap"],[19,37,1,0],[20,2,1,49],[20,6,1,49,"_reactNativeWebDistExportsView"],[20,36,1,49],[20,39,1,49,"require"],[20,46,1,49],[20,47,1,49,"_dependencyMap"],[20,61,1,49],[21,2,1,49],[21,6,1,49,"View"],[21,10,1,49],[21,13,1,49,"_interopDefault"],[21,28,1,49],[21,29,1,49,"_reactNativeWebDistExportsView"],[21,59,1,49],[22,2,1,49],[22,6,1,49,"_reactNativeWebDistExportsStyleSheet"],[22,42,1,49],[22,45,1,49,"require"],[22,52,1,49],[22,53,1,49,"_dependencyMap"],[22,67,1,49],[23,2,1,49],[23,6,1,49,"StyleSheet"],[23,16,1,49],[23,19,1,49,"_interopDefault"],[23,34,1,49],[23,35,1,49,"_reactNativeWebDistExportsStyleSheet"],[23,71,1,49],[24,2,3,0],[24,6,3,0,"_expoRouter"],[24,17,3,0],[24,20,3,0,"require"],[24,27,3,0],[24,28,3,0,"_dependencyMap"],[24,42,3,0],[25,2,4,0],[25,6,4,0,"_srcContextAuthContext"],[25,28,4,0],[25,31,4,0,"require"],[25,38,4,0],[25,39,4,0,"_dependencyMap"],[25,53,4,0],[26,2,5,0],[26,6,5,0,"_srcComponentsLoadingScreen"],[26,33,5,0],[26,36,5,0,"require"],[26,43,5,0],[26,44,5,0,"_dependencyMap"],[26,58,5,0],[27,2,6,0],[27,6,6,0,"_srcUtilsTheme"],[27,20,6,0],[27,23,6,0,"require"],[27,30,6,0],[27,31,6,0,"_dependencyMap"],[27,45,6,0],[28,2,6,43],[28,6,6,43,"_reactJsxDevRuntime"],[28,25,6,43],[28,28,6,43,"require"],[28,35,6,43],[28,36,6,43,"_dependencyMap"],[28,50,6,43],[29,2,8,15],[29,11,8,24,"AuthCallback"],[29,23,8,36,"AuthCallback"],[29,24,8,36],[29,26,8,39],[30,4,9,2],[30,10,9,8,"router"],[30,16,9,14],[30,19,9,17],[30,23,9,17,"useRouter"],[30,34,9,26],[30,35,9,26,"useRouter"],[30,44,9,26],[30,46,9,27],[30,47,9,28],[31,4,10,2],[31,10,10,8],[32,6,10,10,"login"],[32,11,10,15],[33,6,10,17,"setUser"],[34,4,10,25],[34,5,10,26],[34,8,10,29],[34,12,10,29,"useAuth"],[34,34,10,36],[34,35,10,36,"useAuth"],[34,42,10,36],[34,44,10,37],[34,45,10,38],[35,4,11,2],[35,10,11,8,"hasProcessed"],[35,22,11,20],[35,25,11,23],[35,29,11,23,"useRef"],[35,35,11,29],[35,36,11,29,"useRef"],[35,42,11,29],[35,44,11,30],[35,49,11,35],[35,50,11,36],[36,4,13,2],[36,8,13,2,"useEffect"],[36,14,13,11],[36,15,13,11,"useEffect"],[36,24,13,11],[36,26,13,12],[36,32,13,18],[37,6,14,4],[38,6,15,4],[38,10,15,8,"hasProcessed"],[38,22,15,20],[38,23,15,21,"current"],[38,30,15,28],[38,32,15,30],[39,6,16,4,"hasProcessed"],[39,18,16,16],[39,19,16,17,"current"],[39,26,16,24],[39,29,16,27],[39,33,16,31],[40,6,18,4],[40,12,18,10,"processAuth"],[40,23,18,21],[40,26,18,24],[40,32,18,24,"processAuth"],[40,33,18,24],[40,38,18,36],[41,8,19,6],[41,12,19,10],[42,10,20,8],[43,10,21,8],[43,14,21,12,"sessionId"],[43,23,21,36],[43,26,21,39],[43,30,21,43],[44,10,23,8],[44,21,23,43],[45,12,24,10],[45,18,24,16,"hash"],[45,22,24,20],[45,25,24,23,"window"],[45,31,24,29],[45,32,24,30,"location"],[45,40,24,38],[45,41,24,39,"hash"],[45,45,24,43],[46,12,25,10],[46,18,25,16,"params"],[46,24,25,22],[46,27,25,25],[46,31,25,29,"URLSearchParams"],[46,46,25,44],[46,47,25,45,"hash"],[46,51,25,49],[46,52,25,50,"replace"],[46,59,25,57],[46,60,25,58],[46,63,25,61],[46,65,25,63],[46,67,25,65],[46,68,25,66],[46,69,25,67],[47,12,26,10,"sessionId"],[47,21,26,19],[47,24,26,22,"params"],[47,30,26,28],[47,31,26,29,"get"],[47,34,26,32],[47,35,26,33],[47,47,26,45],[47,48,26,46],[48,10,27,8],[49,10,29,8],[49,14,29,12],[49,15,29,13,"sessionId"],[49,24,29,22],[49,26,29,24],[50,12,30,10,"console"],[50,19,30,17],[50,20,30,18,"error"],[50,25,30,23],[50,26,30,24],[50,54,30,52],[50,55,30,53],[51,12,31,10,"router"],[51,18,31,16],[51,19,31,17,"replace"],[51,26,31,24],[51,27,31,25],[51,30,31,28],[51,31,31,29],[52,12,32,10],[53,10,33,8],[55,10,35,8],[56,10,36,8],[56,16,36,14,"login"],[56,21,36,19],[56,22,36,20,"sessionId"],[56,31,36,29],[56,32,36,30],[58,10,38,8],[59,10,39,8],[59,21,39,43],[60,12,40,10,"window"],[60,18,40,16],[60,19,40,17,"history"],[60,26,40,24],[60,27,40,25,"replaceState"],[60,39,40,37],[60,40,40,38],[60,41,40,39],[60,42,40,40],[60,44,40,42,"document"],[60,52,40,50],[60,53,40,51,"title"],[60,58,40,56],[60,60,40,58,"window"],[60,66,40,64],[60,67,40,65,"location"],[60,75,40,73],[60,76,40,74,"pathname"],[60,84,40,82],[60,85,40,83],[61,10,41,8],[62,10,43,8,"router"],[62,16,43,14],[62,17,43,15,"replace"],[62,24,43,22],[62,25,43,23],[62,44,43,42],[62,45,43,43],[63,8,44,6],[63,9,44,7],[63,10,44,8],[63,17,44,15,"error"],[63,22,44,20],[63,24,44,22],[64,10,45,8,"console"],[64,17,45,15],[64,18,45,16,"error"],[64,23,45,21],[64,24,45,22],[64,46,45,44],[64,48,45,46,"error"],[64,53,45,51],[64,54,45,52],[65,10,46,8,"router"],[65,16,46,14],[65,17,46,15,"replace"],[65,24,46,22],[65,25,46,23],[65,28,46,26],[65,29,46,27],[66,8,47,6],[67,6,48,4],[67,7,48,5],[68,6,50,4,"processAuth"],[68,17,50,15],[68,18,50,16],[68,19,50,17],[69,4,51,2],[69,5,51,3],[69,7,51,5],[69,8,51,6,"login"],[69,13,51,11],[69,15,51,13,"router"],[69,21,51,19],[69,22,51,20],[69,23,51,21],[70,4,53,2],[70,24,54,4],[70,28,54,4,"_reactJsxDevRuntime"],[70,47,54,4],[70,48,54,4,"jsxDEV"],[70,54,54,4],[70,56,54,5,"View"],[70,60,54,9],[70,61,54,9,"default"],[70,68,54,9],[71,6,54,10,"style"],[71,11,54,15],[71,13,54,17,"styles"],[71,19,54,23],[71,20,54,24,"container"],[71,29,54,34],[72,6,54,34,"children"],[72,14,54,34],[72,29,55,6],[72,33,55,6,"_reactJsxDevRuntime"],[72,52,55,6],[72,53,55,6,"jsxDEV"],[72,59,55,6],[72,61,55,7,"_srcComponentsLoadingScreen"],[72,88,55,20],[72,89,55,20,"LoadingScreen"],[72,102,55,20],[73,8,55,21,"message"],[73,15,55,28],[73,17,55,29],[74,6,55,52],[75,8,55,52,"fileName"],[75,16,55,52],[75,18,55,52,"_jsxFileName"],[75,30,55,52],[76,8,55,52,"lineNumber"],[76,18,55,52],[77,8,55,52,"columnNumber"],[77,20,55,52],[78,6,55,52],[78,13,55,54],[79,4,55,55],[80,6,55,55,"fileName"],[80,14,55,55],[80,16,55,55,"_jsxFileName"],[80,28,55,55],[81,6,55,55,"lineNumber"],[81,16,55,55],[82,6,55,55,"columnNumber"],[82,18,55,55],[83,4,55,55],[83,11,56,10],[83,12,56,11],[84,2,58,0],[85,2,60,0],[85,8,60,6,"styles"],[85,14,60,12],[85,17,60,15,"StyleSheet"],[85,27,60,25],[85,28,60,25,"default"],[85,35,60,25],[85,36,60,26,"create"],[85,42,60,32],[85,43,60,33],[86,4,61,2,"container"],[86,13,61,11],[86,15,61,13],[87,6,62,4,"flex"],[87,10,62,8],[87,12,62,10],[87,13,62,11],[88,6,63,4,"backgroundColor"],[88,21,63,19],[88,23,63,21,"theme"],[88,37,63,26],[88,38,63,26,"theme"],[88,43,63,26],[88,44,63,27,"colors"],[88,50,63,33],[88,51,63,34,"background"],[89,4,64,2],[90,2,65,0],[90,3,65,1],[90,4,65,2],[91,0,65,3],[91,3]],"functionMap":{"names":["<global>","AuthCallback","useEffect$argument_0","processAuth"],"mappings":"AAA;eCO;YCK;wBCK;KD8B;GDG;CDO"},"hasCjsExports":false},"type":"js/module"}]}